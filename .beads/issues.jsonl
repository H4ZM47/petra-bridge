{"id":"PETRA-0mv","title":"Replace Vault.trash() with FileManager.trashFile()","description":"Should use `FileManager.trashFile()` instead of `Vault.trash()` for respecting user preferences on how files are deleted.","acceptance_criteria":"Use FileManager.trashFile() for file deletion","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-16T10:25:51.119886-06:00","updated_at":"2025-12-16T10:28:13.996423-06:00","closed_at":"2025-12-16T10:28:13.996423-06:00","labels":["optional","pr-feedback"]}
{"id":"PETRA-1uz","title":"VULN-ASSESS: Proactive security assessment of Petra Bridge","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-15T15:15:34.109866-06:00","created_by":"alex","updated_at":"2026-01-15T15:20:01.480393-06:00","closed_at":"2026-01-15T15:20:01.480393-06:00","close_reason":"Security assessment complete. Fixed 5 vulnerabilities: path traversal, timing attack, CORS, health info disclosure, ReDoS in templates."}
{"id":"PETRA-2lf","title":"Replace require() import with ES module import in settings.ts","description":"Forbidden require() style import at settings.ts line 61. Convert to proper ES module import syntax.","acceptance_criteria":"No require() imports in settings.ts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.48187-06:00","updated_at":"2025-12-16T10:29:06.691072-06:00","closed_at":"2025-12-16T10:29:06.691072-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-2su","title":"Replace hardcoded .obsidian with Vault#configDir","description":"Hardcoded `.obsidian` folder reference should use `Vault#configDir` instead to respect user configuration.","acceptance_criteria":"No hardcoded .obsidian references; use app.vault.configDir","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:49.980648-06:00","updated_at":"2025-12-16T10:28:23.738412-06:00","closed_at":"2025-12-16T10:28:23.738412-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-4sa","title":"Fix invalid template literal with unknown type in notes.ts","description":"Two instances of invalid template literal with \"unknown\" type in notes.ts. Need to properly type the variables being interpolated.","acceptance_criteria":"No template literal type errors in notes.ts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.230618-06:00","updated_at":"2025-12-16T10:28:13.843839-06:00","closed_at":"2025-12-16T10:28:13.843839-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-5x8","title":"Remove unused depthParam variable in graph.ts","description":"Unused variable `depthParam` in graph.ts should be removed.","acceptance_criteria":"No unused variables in graph.ts","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-16T10:25:50.869659-06:00","updated_at":"2025-12-16T10:28:31.107893-06:00","closed_at":"2025-12-16T10:28:31.107893-06:00","labels":["optional","pr-feedback"]}
{"id":"PETRA-8hd","title":"Remove unused TFolder import in notes.ts","description":"Unused import `TFolder` in notes.ts should be removed.","acceptance_criteria":"No unused imports in notes.ts","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-16T10:25:50.992695-06:00","updated_at":"2025-12-16T10:28:13.920598-06:00","closed_at":"2025-12-16T10:28:13.920598-06:00","labels":["optional","pr-feedback"]}
{"id":"PETRA-bg4","title":"VULN-004: Unauthenticated health endpoint leaks vault info","description":"/health exposes vault name, file count, version without auth. Information disclosure risk","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T15:17:29.271388-06:00","created_by":"alex","updated_at":"2026-01-15T15:19:56.388249-06:00","closed_at":"2026-01-15T15:19:56.388249-06:00","close_reason":"Fixed: Health endpoint returns minimal info for unauthenticated requests"}
{"id":"PETRA-eej","title":"Replace direct HTML heading with Setting().setName().setHeading()","description":"Direct HTML heading creation is not allowed. Use the Obsidian API pattern: Setting().setName().setHeading() instead.","acceptance_criteria":"No direct heading element creation; use Setting API","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.609358-06:00","updated_at":"2025-12-16T10:29:47.957024-06:00","closed_at":"2025-12-16T10:29:47.957024-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-g34","title":"Fix UI text to use sentence case (14 instances)","description":"Obsidian requires sentence case for UI text. Review main.ts and settings.ts for all setting labels and convert from Title Case to sentence case.","acceptance_criteria":"All UI text in settings uses sentence case (only first word capitalized)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:49.755111-06:00","updated_at":"2025-12-16T10:29:48.031427-06:00","closed_at":"2025-12-16T10:29:48.031427-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-irc","title":"VULN-003: Overly permissive CORS allows cross-origin attacks","description":"HIGH: CORS Access-Control-Allow-Origin: * allows any website to make requests if token is compromised","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T15:17:38.777851-06:00","created_by":"alex","updated_at":"2026-01-15T15:19:55.1896-06:00","closed_at":"2026-01-15T15:19:55.1896-06:00","close_reason":"Fixed: Restricted CORS to app://obsidian.md and localhost origins"}
{"id":"PETRA-ksv","title":"VULN-001: Path traversal in normalizePath","description":"CRITICAL: normalizePath does not block ../ sequences. Attacker with token can read/write outside vault","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-15T15:17:37.142302-06:00","created_by":"alex","updated_at":"2026-01-15T15:19:53.841688-06:00","closed_at":"2026-01-15T15:19:53.841688-06:00","close_reason":"Fixed: Added validation for .., \\, null bytes in normalizePath"}
{"id":"PETRA-ppe","title":"VULN-002: Timing-vulnerable token comparison","description":"HIGH: checkAuth uses === instead of timingSafeEqual. Side-channel attack risk","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T15:17:38.116541-06:00","created_by":"alex","updated_at":"2026-01-15T15:19:54.452084-06:00","closed_at":"2026-01-15T15:19:54.452084-06:00","close_reason":"Fixed: Using timingSafeEqual from crypto for token comparison"}
{"id":"PETRA-pwx","title":"Fix promise/void mismatch and any type in server.ts","description":"Two issues in server.ts:\\n1. Promise returned in function argument expecting void return\\n2. Unexpected `any` type at line 181\\n\\nNeed to properly handle the promise and add proper typing.","acceptance_criteria":"No promise/void mismatches and no any types in server.ts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.355899-06:00","updated_at":"2025-12-16T10:28:51.824812-06:00","closed_at":"2025-12-16T10:28:51.824812-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-u82","title":"Fix async/promise issues in onload() and arrow functions","description":"Three async issues identified:\\n1. Promise-returning method where void return expected in onload()\\n2. Two async arrow functions with no 'await' expression\\n\\nEither remove async keyword if not needed, or properly handle the promises.","acceptance_criteria":"No linting errors for async/promise handling","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:49.869756-06:00","updated_at":"2025-12-16T10:30:34.603958-06:00","closed_at":"2025-12-16T10:30:34.603958-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-wc4","title":"Fix empty block statement in daily.ts","description":"There's an empty block statement in daily.ts that needs to be removed or filled with proper logic/comment.","acceptance_criteria":"No empty block statements in daily.ts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.098853-06:00","updated_at":"2025-12-16T10:28:23.664236-06:00","closed_at":"2025-12-16T10:28:23.664236-06:00","labels":["pr-feedback","required"]}
{"id":"PETRA-z2c","title":"Move inline styles to styles.css file","description":"Style element attachment is forbidden in Obsidian plugins. Move any inline styles or dynamically created style elements to the styles.css file.","acceptance_criteria":"No style element creation; all styles in styles.css","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T10:25:50.73969-06:00","updated_at":"2025-12-16T10:30:08.748581-06:00","closed_at":"2025-12-16T10:30:08.748581-06:00","labels":["pr-feedback","required"]}
